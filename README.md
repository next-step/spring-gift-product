# spring-gift-product


## 목차

1. [1단계 - 상품 API](#step-1---상품-api)
2. [2단계 - 관리자 화면](#step-2---관리자-화면)
3. [3단계 - 데이터베이스 적용](#step-3---데이터베이스-적용)

---

## Step 1 - 상품 API

---

#### 기능 요구 사항

- HTTP 요청과 응답은 JSON 형식으로 주고받음
- 별도 DB가 없으므로 Map을 사용하여 메모리에 저장

<br>

#### API 명세 

| URL                  | 메서드  | 기능    | 설명           |
|----------------------|------|-------|--------------|
| /api/products        | POST | 상품 생성 | 새 상품 등록      |
| /api/products/{productId} | GET  | 상품 조회 | 특정 상품 정보 조회  |
| /api/products/{productId} | PUT  | 상품 수정 | 기존 상품 정보 수정  |
| /api/products/{productId} | DELETE | 상품 삭제 | 특정 상품 삭제     |
| /api/products | GET | 상품 전체 조회 | 모든 상품 정보 조회  |

---

<br>

## Step 2 - 관리자 화면

---

#### 기능 요구 사항

상품을 조회, 추가, 수정, 삭제할 수 있는 관리자 화면을 구성

- `Thymeleaf`를 사용하여 서버 사이드 렌더링을 구현
- 상품 이미지의 경우, 파일 업로드가 아닌 URL 직접 입력

<br>

#### 구현 상세 설명

- UI 상에서 상품 추가, 수정, 삭제 기능은 모달 창을 통해 처리됨
- 메인 페이지에서 버튼을 통해 모달 창을 띄움
- 상품 추가/수정/삭제 후에는 모두 `/admin/products` 페이지로 리다이렉트되며, 변경된 상품 목록이 바로 반영됨

<br>

## Step 3 - 데이터베이스 적용

---

#### 기능 요구 사항

- 메모리에 저장하던 코드를 제거 후 H2 데이터베이스를 사용하도록 코드 변경
- 사용하는 테이블은 애플리케이션이 실행될 때 구축되어야 함

<br>

#### 구현 상세 설명

- `schema.sql` 파일을 통해 `product` 테이블의 스키마 정의
- `data.sql` 파일을 통해 초기 데이터 삽입
- `JdbcTemplate`을 사용하여 SQL 쿼리를 직접 작성하고 실행하는 방식으로 구현
- `ProductService` 클래스 내에서 CRUD 기능을 SQL 쿼리로 구현
- 조회 쿼리 결과를 `RowMapper`를 통해 `Product` 객체로 변환하여 컨트롤러에 전달


